import { Meta, Story, Canvas, Controls } from '@storybook/blocks';
import * as AvatarStories from './Avatar.stories';
import { Avatar, AvatarSize, AvatarType } from './Avatar';

<Meta of={AvatarStories} title="Components/Avatar/Documentation" />

# Avatar Component

The Avatar component displays user profile images, initials, or placeholder content in a circular format. It's commonly used to represent users in profiles, comments, navigation bars, and other user-related interfaces.

## Features

- Multiple size options: Small (s), Medium (m), and Large (l)
- Two display types: Default (with initials) and Empty (placeholder)
- Automatic type detection based on label content
- Responsive design with Tailwind CSS
- Consistent typography using Heebo font family
- Accessible and keyboard-friendly

## Import

```tsx
import Avatar from './Avatar';
import { AvatarSize, AvatarType } from './Avatar';
```

## Basic Usage

<Canvas of={AvatarStories.DefaultMedium} />

## Size Variations

The Avatar component comes in three sizes to accommodate different UI contexts:

### Small (32px)
Perfect for compact layouts, lists, and secondary displays.

<Canvas of={AvatarStories.DefaultSmall} />

### Medium (56px)
The default size, ideal for most user interface scenarios.

<Canvas of={AvatarStories.DefaultMedium} />

### Large (96px)
Best for profile pages, user cards, and prominent user displays.

<Canvas of={AvatarStories.DefaultLarge} />

## Type Variations

### Default Type
Displays user initials with a light background and dark text. Automatically selected when a label is provided.

```tsx
<Avatar 
  label="AA" 
  size={AvatarSize.M} 
  type={AvatarType.Default} 
/>
```

### Empty Type
Shows a placeholder "N/A" with a darker background and white text. Used when no user information is available.

<Canvas of={AvatarStories.EmptyMedium} />

```tsx
<Avatar 
  size={AvatarSize.M} 
  type={AvatarType.Empty} 
/>
```

## Automatic Type Detection

The Avatar component intelligently determines the appropriate type based on the provided label:

```tsx
// Will display as Default type with "JS" initials
<Avatar label="JS" />

// Will display as Empty type with "N/A" placeholder
<Avatar />

// Will display as Empty type (empty string)
<Avatar label="" />
```

## Usage Examples

### User Profile Display

```tsx
<Avatar 
  label="John Smith" 
  size={AvatarSize.L} 
/>
```

### User List Item

```tsx
<Avatar 
  label="AB" 
  size={AvatarSize.S} 
/>
```

### Comment Section

```tsx
<Avatar 
  label="Mary Johnson" 
  size={AvatarSize.M} 
/>
```

### No User Available

```tsx
<Avatar 
  size={AvatarSize.M} 
  type={AvatarType.Empty} 
/>
```

## Component Props

<Controls />

## Accessibility

- Uses semantic HTML with proper `div` structure
- Maintains proper contrast ratios for both Default and Empty types
- Text content is selectable for screen readers
- Consistent sizing ensures proper touch targets on mobile devices

## Design Considerations

- **Initials**: When providing a label, use the user's first and last name initials (e.g., "John Smith" â†’ "JS")
- **Fallback**: The component gracefully handles missing or empty labels by switching to Empty type
- **Consistency**: Use consistent sizes within the same interface context
- **Contrast**: Both types maintain proper contrast for accessibility compliance
- **Typography**: Uses the Heebo font family with appropriate font weights for each size

## Best Practices

- Use Small avatars for lists and compact layouts
- Use Medium avatars for general UI elements
- Use Large avatars for profile pages and user-focused screens
- Provide meaningful initials when possible rather than relying on Empty type
- Consider using the same avatar size consistently within a single interface section
